{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":[" export function request(inputValue) {\n\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '43859237-c6386bdcccc66f068a9509366'\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(resp => {\n            if (!resp.ok) {\n            throw new Error(resp.statusText)\n            }\n            return resp.json()\n    })\n\n}\n","\nexport function createMarkup(arr) {\n    return arr.map( ({ downloads,webformatURL, largeImageURL, tags, likes, views, comments} ) => `\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n    <div class=\"gallery-list\">\n    <div class=\"gallery-item\"><b>Likes</b> <span>${likes}</span></div>\n    <div class=\"gallery-item\"><b>Views</b> <span>${views}</span></div>\n    <div class=\"gallery-item\"><b>Comments</b> <span>${comments}</span></div>\n    <div class=\"gallery-item\"><b>Downloads</b> <span>${downloads}</span></div>\n    </div></a>\n      `).join('')\n}","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport {request} from \"./js/pixabay-api\"\nimport { createMarkup } from \"./js/render-functions\";\n\nconst form = document.querySelector('.submit-form');\nconst list = document.querySelector('.gallery');\n\nform.addEventListener('submit', onSubmit);\n\n\nfunction onSubmit(evt) {\n    evt.preventDefault();\n    \n    list.innerHTML = `<span class=\"loader\"></span>`;\n    const inputValue = evt.currentTarget.elements.search.value;\n    if(inputValue.length === 0){\n        return\n    }\n\n    request(inputValue)\n        .then(data => {\n            if (data.hits.length === 0){\n                 iziToast.show({\n                    message: ' Sorry, there are no images matching your search query. Please try again!',\n                    color: '#EF4040',\n                    position: 'topRight',\n                    messageColor: 'white',\n                    messageSize: '5px',\n                    timeout: 2000,\n                    padding: '20px',\n                    gap: '8px',\n                    borderRadius: '4px'\n                 });\n                list.innerHTML = ``;\n                return;\n            }\n            list.innerHTML = createMarkup(data.hits)\n            init();\n        })\n        .catch(err => console.log(err))\n    \n}\n\n\n\n\nfunction init() {\n    const instance = new SimpleLightbox('.gallery a', {\n        captionsDelay: 250,\n        captionPosition: \"bottom\",\n    });\n    instance.refresh();\n}\n\n\n\n\n"],"names":["request","inputValue","resp","createMarkup","arr","downloads","webformatURL","largeImageURL","tags","likes","views","comments","form","list","onSubmit","evt","data","iziToast","init","err","SimpleLightbox"],"mappings":"6vBAAQ,SAASA,EAAQC,EAAY,CAIjC,OAAO,MAAM,qEAAgCA,CAAU,0DAA0D,EAC5G,KAAKC,GAAQ,CACV,GAAI,CAACA,EAAK,GACV,MAAM,IAAI,MAAMA,EAAK,UAAU,EAE/B,OAAOA,EAAK,KAAM,CAC9B,CAAK,CAEL,CCXO,SAASC,EAAaC,EAAK,CAC9B,OAAOA,EAAI,IAAK,CAAC,CAAE,UAAAC,EAAU,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,CAAQ,IAAO;AAAA,oCAC7DJ,CAAa;AAAA,sCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA,mDAEbC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPN,CAAS;AAAA;AAAA,OAEzD,EAAE,KAAK,EAAE,CAChB,CCJA,MAAMO,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,UAAU,EAE9CD,EAAK,iBAAiB,SAAUE,CAAQ,EAGxC,SAASA,EAASC,EAAK,CACnBA,EAAI,eAAc,EAElBF,EAAK,UAAY,+BACjB,MAAMZ,EAAac,EAAI,cAAc,SAAS,OAAO,MAClDd,EAAW,SAAW,GAIzBD,EAAQC,CAAU,EACb,KAAKe,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAE,CACtBC,EAAS,KAAK,CACX,QAAS,4EACT,MAAO,UACP,SAAU,WACV,aAAc,QACd,YAAa,MACb,QAAS,IACT,QAAS,OACT,IAAK,MACL,aAAc,KAClC,CAAkB,EACFJ,EAAK,UAAY,GACjB,MACH,CACDA,EAAK,UAAYV,EAAaa,EAAK,IAAI,EACvCE,GACZ,CAAS,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAEtC,CAKA,SAASD,GAAO,CACK,IAAIE,EAAe,aAAc,CAC9C,cAAe,IACf,gBAAiB,QACzB,CAAK,EACQ,QAAO,CACpB"}