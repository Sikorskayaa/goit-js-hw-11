{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":[" export function getRequest(characteristics) {\n\n    const BASE_URL = `https://pixabay.com/api/`;\n    const API_KEY = `41768952-3eb5a1819d194e4ebd739434d`\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${characteristics}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(resp => {\n            if (!resp.ok) {\n            throw new Error(resp.statusText)\n            }\n            return resp.json()\n    })\n\n}\n","\nexport function createMarkup(arr) {\n    return arr.map( ({webformatURL, largeImageURL, tags, likes, views, comments, downloads} ) => `<a class=\"gallery-link\" href=\"${largeImageURL}\"><img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n    <div class=\"gallery-review\">\n    <div class=\"gallery-review-item\"><b>Likes</b> <span>${likes}</span></div>\n    <div class=\"gallery-review-item\"><b>Views</b> <span>${views}</span></div>\n    <div class=\"gallery-review-item\"><b>Comments</b> <span>${comments}</span></div>\n    <div class=\"gallery-review-item\"><b>Downloads</b> <span>${downloads}</span></div>\n    </div></a>\n      `).join(``)\n}","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { getRequest } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\nconst form = document.querySelector(`.submit-form`);\nconst list = document.querySelector(`.gallery`);\nform.addEventListener(`submit`, searchRequest);\n\n\nfunction searchRequest(evt) {\n    evt.preventDefault();\n    list.innerHTML = `<span class=\"loader\"></span>`;\n    const characteristics = evt.currentTarget.elements.search.value;\n    getRequest(characteristics)\n        .then(data => {\n            if (data.hits.length === 0)\n                 { iziToast.show({\n                    message: '❌ Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    messageColor: 'red',\n                    messageSize: '14px',\n                    timeout: 2000,\n                 });\n                list.innerHTML = ``;\n                return;}\n            list.innerHTML = createMarkup(data.hits)\n            initializeLightbox();\n        })\n        .catch(err => console.log(err))\n    \n}\n\n\n\n\nfunction initializeLightbox() {\n    const instance = new SimpleLightbox('.gallery a', {\n        captionsDelay: 250,\n        captionPosition: \"bottom\",\n    });\n    instance.refresh();\n}"],"names":["getRequest","characteristics","resp","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","list","searchRequest","evt","data","iziToast","initializeLightbox","err","SimpleLightbox"],"mappings":"6vBAAQ,SAASA,EAAWC,EAAiB,CAIzC,OAAO,MAAM,qEAAgCA,CAAe,0DAA0D,EACjH,KAAKC,GAAQ,CACV,GAAI,CAACA,EAAK,GACV,MAAM,IAAI,MAAMA,EAAK,UAAU,EAE/B,OAAOA,EAAK,KAAM,CAC9B,CAAK,CAEL,CCXO,SAASC,EAAaC,EAAK,CAC9B,OAAOA,EAAI,IAAK,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO,iCAAiCL,CAAa,qCAAqCD,CAAY,UAAUE,CAAI;AAAA;AAAA,0DAEpJC,CAAK;AAAA,0DACLC,CAAK;AAAA,6DACFC,CAAQ;AAAA,8DACPC,CAAS;AAAA;AAAA,OAEhE,EAAE,KAAK,EAAE,CAChB,CCFA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,UAAU,EAC9CD,EAAK,iBAAiB,SAAUE,CAAa,EAG7C,SAASA,EAAcC,EAAK,CACxBA,EAAI,eAAc,EAClBF,EAAK,UAAY,+BACjB,MAAMZ,EAAkBc,EAAI,cAAc,SAAS,OAAO,MAC1Df,EAAWC,CAAe,EACrB,KAAKe,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACpB,CAAEC,EAAS,KAAK,CACb,QAAS,6EACT,SAAU,WACV,aAAc,MACd,YAAa,OACb,QAAS,GAC7B,CAAkB,EACFJ,EAAK,UAAY,GACjB,MAAO,CACXA,EAAK,UAAYV,EAAaa,EAAK,IAAI,EACvCE,GACZ,CAAS,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAEtC,CAKA,SAASD,GAAqB,CACT,IAAIE,EAAe,aAAc,CAC9C,cAAe,IACf,gBAAiB,QACzB,CAAK,EACQ,QAAO,CACpB"}